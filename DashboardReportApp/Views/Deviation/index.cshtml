@model DashboardReportApp.Models.DeviationViewModel

<div class="container mt-1">
    <h2>Manage Deviations</h2>
    <form asp-action="Create" method="post">
        <div class="form-group">
            <label for="Part">Part</label>
            <input type="text" class="form-control" id="Part" name="Part" asp-for="Part" />
            <span asp-validation-for="Part" class="text-danger"></span>
        </div>

        <div class="form-group">
            <label for="Discrepancy">Discrepancy</label>
            <textarea class="form-control" id="Discrepancy" name="Discrepancy" asp-for="Discrepancy"></textarea>
            <span asp-validation-for="Discrepancy" class="text-danger"></span>
        </div>

        <div class="form-group">
            <label for="Operator">Operator</label>
            <select class="form-control" id="Operator" name="Operator" asp-for="Operator">
                <option value="">-- Select an Operator --</option>
                @if (ViewData["Operators"] != null)
                {
                    foreach (var operatorName in (List<string>)ViewData["Operators"])
                    {
                        <option value="@operatorName">@operatorName</option>
                    }
                }
            </select>
            <span asp-validation-for="Operator" class="text-danger"></span>
        </div>

        <div class="form-group">
            <label for="CommMethod">Communication Method</label>
            <select class="form-control" id="CommMethod" name="CommMethod" asp-for="CommMethod">
                <option value="">-- Select --</option>
                <option value="Phone Call">Phone Call</option>
                <option value="Text Message">Text Message</option>
                <option value="Email">Email</option>
                <option value="In Person">In Person</option>
            </select>
            <span asp-validation-for="CommMethod" class="text-danger"></span>
        </div>

        <button type="submit" class="btn btn-primary">Submit Deviation</button>
    </form>

    @if (TempData["SuccessMessage"] != null)
    {
        <div class="alert alert-success mt-3">
            @TempData["SuccessMessage"]
        </div>
    }

    @if (TempData["ErrorMessage"] != null)
    {
        <div class="alert alert-danger mt-3">
            @TempData["ErrorMessage"]
        </div>
    }
</div>
